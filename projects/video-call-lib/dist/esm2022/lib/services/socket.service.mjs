import { io } from 'socket.io-client';
import { Capacitor } from '@capacitor/core';
let SIGNALING_URL = 'http://localhost:3000';
export const getSignalingUrl = () => SIGNALING_URL;
export const setSignalingUrl = (url) => {
    SIGNALING_URL = url;
    console.log('✓ Signaling URL updated to:', SIGNALING_URL);
};
// Initialize based on platform
const initializeSignalingUrl = () => {
    const platform = Capacitor.getPlatform();
    if (platform === 'android') {
        SIGNALING_URL = 'http://192.168.1.10:3000'; // Android Emulator - update as needed
    }
};
initializeSignalingUrl();
export const socket = io(SIGNALING_URL, {
    transports: ['websocket'],
    reconnection: true,
    reconnectionDelay: 1000,
    reconnectionDelayMax: 5000,
    reconnectionAttempts: 5
});
socket.on('connect', () => {
    console.log('✓ Socket connected to server at', SIGNALING_URL);
    console.log('  Socket ID:', socket.id);
});
socket.on('disconnect', () => {
    console.log('✗ Socket disconnected from server');
});
socket.on('connect_error', (error) => {
    console.error('❌ Socket connection error:', error);
});
socket.on('error', (error) => {
    console.error('❌ Socket error:', error);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic29ja2V0LnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvbGliL3NlcnZpY2VzL3NvY2tldC5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxFQUFFLEVBQVUsTUFBTSxrQkFBa0IsQ0FBQztBQUM5QyxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0saUJBQWlCLENBQUM7QUFFNUMsSUFBSSxhQUFhLEdBQUcsdUJBQXVCLENBQUM7QUFFNUMsTUFBTSxDQUFDLE1BQU0sZUFBZSxHQUFHLEdBQUcsRUFBRSxDQUFDLGFBQWEsQ0FBQztBQUVuRCxNQUFNLENBQUMsTUFBTSxlQUFlLEdBQUcsQ0FBQyxHQUFXLEVBQUUsRUFBRTtJQUM3QyxhQUFhLEdBQUcsR0FBRyxDQUFDO0lBQ3BCLE9BQU8sQ0FBQyxHQUFHLENBQUMsNkJBQTZCLEVBQUUsYUFBYSxDQUFDLENBQUM7QUFDNUQsQ0FBQyxDQUFDO0FBRUYsK0JBQStCO0FBQy9CLE1BQU0sc0JBQXNCLEdBQUcsR0FBRyxFQUFFO0lBQ2xDLE1BQU0sUUFBUSxHQUFHLFNBQVMsQ0FBQyxXQUFXLEVBQUUsQ0FBQztJQUN6QyxJQUFJLFFBQVEsS0FBSyxTQUFTLEVBQUUsQ0FBQztRQUMzQixhQUFhLEdBQUcsMEJBQTBCLENBQUMsQ0FBQyxzQ0FBc0M7SUFDcEYsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGLHNCQUFzQixFQUFFLENBQUM7QUFFekIsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFXLEVBQUUsQ0FBQyxhQUFhLEVBQUU7SUFDOUMsVUFBVSxFQUFFLENBQUMsV0FBVyxDQUFDO0lBQ3pCLFlBQVksRUFBRSxJQUFJO0lBQ2xCLGlCQUFpQixFQUFFLElBQUk7SUFDdkIsb0JBQW9CLEVBQUUsSUFBSTtJQUMxQixvQkFBb0IsRUFBRSxDQUFDO0NBQ3hCLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLEdBQUcsRUFBRTtJQUN4QixPQUFPLENBQUMsR0FBRyxDQUFDLGlDQUFpQyxFQUFFLGFBQWEsQ0FBQyxDQUFDO0lBQzlELE9BQU8sQ0FBQyxHQUFHLENBQUMsY0FBYyxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUN6QyxDQUFDLENBQUMsQ0FBQztBQUVILE1BQU0sQ0FBQyxFQUFFLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTtJQUMzQixPQUFPLENBQUMsR0FBRyxDQUFDLG1DQUFtQyxDQUFDLENBQUM7QUFDbkQsQ0FBQyxDQUFDLENBQUM7QUFFSCxNQUFNLENBQUMsRUFBRSxDQUFDLGVBQWUsRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQ25DLE9BQU8sQ0FBQyxLQUFLLENBQUMsNEJBQTRCLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDckQsQ0FBQyxDQUFDLENBQUM7QUFFSCxNQUFNLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLEtBQUssRUFBRSxFQUFFO0lBQzNCLE9BQU8sQ0FBQyxLQUFLLENBQUMsaUJBQWlCLEVBQUUsS0FBSyxDQUFDLENBQUM7QUFDMUMsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbywgU29ja2V0IH0gZnJvbSAnc29ja2V0LmlvLWNsaWVudCc7XHJcbmltcG9ydCB7IENhcGFjaXRvciB9IGZyb20gJ0BjYXBhY2l0b3IvY29yZSc7XHJcblxyXG5sZXQgU0lHTkFMSU5HX1VSTCA9ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGdldFNpZ25hbGluZ1VybCA9ICgpID0+IFNJR05BTElOR19VUkw7XHJcblxyXG5leHBvcnQgY29uc3Qgc2V0U2lnbmFsaW5nVXJsID0gKHVybDogc3RyaW5nKSA9PiB7XHJcbiAgU0lHTkFMSU5HX1VSTCA9IHVybDtcclxuICBjb25zb2xlLmxvZygn4pyTIFNpZ25hbGluZyBVUkwgdXBkYXRlZCB0bzonLCBTSUdOQUxJTkdfVVJMKTtcclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgYmFzZWQgb24gcGxhdGZvcm1cclxuY29uc3QgaW5pdGlhbGl6ZVNpZ25hbGluZ1VybCA9ICgpID0+IHtcclxuICBjb25zdCBwbGF0Zm9ybSA9IENhcGFjaXRvci5nZXRQbGF0Zm9ybSgpO1xyXG4gIGlmIChwbGF0Zm9ybSA9PT0gJ2FuZHJvaWQnKSB7XHJcbiAgICBTSUdOQUxJTkdfVVJMID0gJ2h0dHA6Ly8xOTIuMTY4LjEuMTA6MzAwMCc7IC8vIEFuZHJvaWQgRW11bGF0b3IgLSB1cGRhdGUgYXMgbmVlZGVkXHJcbiAgfVxyXG59O1xyXG5cclxuaW5pdGlhbGl6ZVNpZ25hbGluZ1VybCgpO1xyXG5cclxuZXhwb3J0IGNvbnN0IHNvY2tldDogU29ja2V0ID0gaW8oU0lHTkFMSU5HX1VSTCwge1xyXG4gIHRyYW5zcG9ydHM6IFsnd2Vic29ja2V0J10sXHJcbiAgcmVjb25uZWN0aW9uOiB0cnVlLFxyXG4gIHJlY29ubmVjdGlvbkRlbGF5OiAxMDAwLFxyXG4gIHJlY29ubmVjdGlvbkRlbGF5TWF4OiA1MDAwLFxyXG4gIHJlY29ubmVjdGlvbkF0dGVtcHRzOiA1XHJcbn0pO1xyXG5cclxuc29ja2V0Lm9uKCdjb25uZWN0JywgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKCfinJMgU29ja2V0IGNvbm5lY3RlZCB0byBzZXJ2ZXIgYXQnLCBTSUdOQUxJTkdfVVJMKTtcclxuICBjb25zb2xlLmxvZygnICBTb2NrZXQgSUQ6Jywgc29ja2V0LmlkKTtcclxufSk7XHJcblxyXG5zb2NrZXQub24oJ2Rpc2Nvbm5lY3QnLCAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coJ+KclyBTb2NrZXQgZGlzY29ubmVjdGVkIGZyb20gc2VydmVyJyk7XHJcbn0pO1xyXG5cclxuc29ja2V0Lm9uKCdjb25uZWN0X2Vycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcign4p2MIFNvY2tldCBjb25uZWN0aW9uIGVycm9yOicsIGVycm9yKTtcclxufSk7XHJcblxyXG5zb2NrZXQub24oJ2Vycm9yJywgKGVycm9yKSA9PiB7XHJcbiAgY29uc29sZS5lcnJvcign4p2MIFNvY2tldCBlcnJvcjonLCBlcnJvcik7XHJcbn0pO1xyXG4iXX0=